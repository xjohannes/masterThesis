\documentclass[english]{ifimaster}
\usepackage[utf8]{inputenc}
\usepackage{babel,textcomp,csquotes,ifikompendiumforside,varioref,graphicx}
\usepackage[T1]{fontenc}
\usepackage[hyphens]{url} % deler lange url-er

% biblatex-pakka med opsjoner
\usepackage[backend=biber, style=numeric-comp,%
defernumbers=true, style=authoryear, backref,sortcites]{biblatex}

% må opplyse om bib-filen
% ved flere bib-filer gjentas kommandoen
\addbibresource{bibliography.bib}

% denne kommandoen er for reftex som ikke forstår BibLaTeX
%\bibliography{referanser}

% noen mulige lokale biblatex tilpasninger
%\DefineBibliographyStrings{norsk}{%
%   urlseen={Sett: },
%   bibliography = {Bibliografi},
%   references = {Referanser},
%   editor = {redaktør},
%   translator={oversetter},
   %page={side},
   %pages={sidene},
%   and={og}
%}
%\reg{fig:picture8}
% /begin{figure}[htbp]
%\centering
%\includegraphics[scale=0.6]{imgName.png}
%\caption{Bla bla}
%\label{fig:picture8}
%\end{figure}

\DeclareFieldFormat{url}{\url{#1}} % fjerner hardkodet "URL: " foran url

\DeclareUrlCommand\url{\def\UrlLeft{\newline}\def\UrlRight{\newline}%
\urlstyle{sf}} % setter inn passende linjeskift

% biblatex anbefaler at hyperref blir lastet inn etter biblatex
\usepackage{hyperref}

\title{Applying browser side state management on server rendered web pages}
\subtitle{} 
% Sett inn ditt eget navn her:
\author{Johannes Akse}
\date{2016}

\begin{document}
%\ififorside
\maketitle{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Abstract %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Abstract}
%Example of siting: their jobs, rather than the programmer's \parencite {shneiderman1983}\parencite{stephenson1999,hutchins1986},.
\tableofcontents
\nocite{*}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Preface %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Preface}
"Personal" motivation for writing the thesis, the changing of focus from wizard to state (basic/advanced) and lastly adding history functionality. Write the main portion of the thesis as if history management was a specification all the way or integrating the addition of this in the introduction?

These features, even though not part of the original requirement specifications for this master thesis, has after implementation been received with some expectations from in-house users of the system. 

No expert supervisor on javaScript and main supervisor on paternity leave I have been quite alone when making design decisions. 
\chapter{Notes. Must be deleted upon due date}

   

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Introduction %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Introduction}
\section{Motivation}
%Why there is a need for the product I have made
The Genomic Hyperbrowser, a public web-based collection of tools for performing advanced statistical analysis, has been reported to be difficult to understand and use. Especially for new users and users with little or no mathematics or statistical background the HyperBrowser has proven difficult. With the emergence of epigenome-wide data a new suite of software, the G suite, is under development by the "Research Group for Biomedical Informatics" at the University of Oslo\parencite{gsuite}. They have taken into account some of the usability problems by providing separate interfaces for basic and advanced use. The different interfaces are generated server side when asked for from within the new tools. They also offer a basic and advanced step wise guide on how to and in what sequence the different tools could be used together. My contribution has been to offer a generic button for all basic/advanced state management.


\section{Goals}
%(Entice the reader, what are they about to spend time reading, why would they?)
In this thesis I will try to show why implementing a simple feature like a button changing between basic and advanced mode, even though sounding like an easy task, is far from trivial when done on an already existing web page. 

I will also show that the underlying structure needed to build such a seemingly simple feature facilitates faster and easier development of other state dependent functionality.
\begin{itemize}
  \item The first item
  \item The second item
  \item The third etc \ldots
\end{itemize}
\section{Limitations/boundaries of the thesis (avgrensning)}

\section{Development in a real time setting}


\section{Gsuite - A need to simplify the UI}

\section{Requirement specifications}
Users expect certain behaviour from a web site \parencite{mik}.
\subsection{A use case}




\section{Challenges}

\section{Problem statement}
How to apply state management for predefined server rendered pages in a web browser.
\section{Overview}
\section{Terminology}
\subsection{Acronyms}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Background %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Background}
\section{State management, what is it and why is it important?}
As the Internet has matured on us, we the users of the World Wide Web have started to expect certain behaviour from a web page\parencite[p.85]{mik}. Whether the web site is about displaying dynamically rendered news articles or, as is the case of "The Genomic HyperBrowser", doing statistical analyzes on a genome, the users expect to be able to use the built in actions most browsers provide. Going back and forth using the navigation arrows on the top left side of the page or bookmarking a page for later reference or even sending a link to a friend or colleague is build in functionality I claim every site should strive to provide for its users. 

Up til now this has not been the case for the Genomic HyperBrowser. To be fair, going back and forth is features that has already been offered by the HyperBrowser. The fact that every selection done in a tool has re-render the mainFrame, that is gotten a whole new page from the server, the native functionality of the browser still works as expected. Saving the selections or sending a specific selection to a co-worker or other scientist has however not been possible.

State


Explanation of state? What is state. Why is it important?
\subsection{The statelessness of REST}

\subsection{State management in web clients}
\paragraph{Storing state in the browser}

\section{Anticipated behavior in a web application}

\section{Single page application on top of server heavy page - A hack?}



\section{Location.hash or models as driving appliBehaviourcation state}

\section{Communicating with the DOM}

\section{Strictly objects vs class structures} (Discussion?)
\subsection{ECMA 5 vs ECMA 6} (Discussion?)

\section{Using third party libraries or design from scratch?} (Discussion?)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Methodology %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Methodology}
Why local testing has been crucial to development 

\section{Behavior driven development}
Find source.

\subsection{Jasmine}
Using Jasmine as integration testing tool

\section{Modularity}
For modularity and encapsulation. (Discussion?)
\subsection{Browserify, taking Nodejs NPM module loading technology to the browser}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Development %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Development}
\section{Design choices}
\section{Building blocks / Objects}
\subsection{Main}
\subsubsection{ModeApp}
\subsubsection{ToolApp}

\subsection{Prototypes}
\subsubsection{Model prototype}
\subsubsection{View prototype}
\subsubsection{Controller prototype}
\subsubsection{History prototype}
\subsubsection{Dispatcher prototype}
\subsubsection{Observer}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Discussion %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Discussion}
\section{Specific or broad approach}
\subsubsection{Code for the future ie pushState} {}
\subsubsection{Both setHistory and changeHistory} {}
 - More work. More mess.
 - Faster refactoring when new specifications
\subsubsection{uriAnchor vs. own development} 
\subsubsection{How to handle bugs in third party plugins?} 
\subsubsection{Using framework or library vs creating from scratchd}  (Introduced in the background).
\subsubsection{Local storage vs simple storage} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Conclusion %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Conclusion}

\section{Thoughts on future development}



\newpage
% The headline of the bibliography (the document class article)
\renewcommand{\refname}{Bibliography}

% redefiner \bibname ved bruk av dokumentklassen book

% Litteraturlista inn i innholdsfortegnelsen
\addcontentsline{toc}{section}{\refname}

\printbibheading
\printbibliography[type=book, title={Books}]
\printbibliography[type=article, title={Articles}]
\printbibliography[type=manual, title={Manuals}]
\printbibliography[nottype=book, nottype=article,%
nottype=manual, title={Other documents}]

\end{document}

